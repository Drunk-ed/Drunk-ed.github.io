---
title: "Phantom to Interbotix Teleoperation using ROS2"
excerpt: "Built a real-time teleoperation framework in ROS 2 where a ReactorX-200 robot arm teleoperated via haptic device."
collection: portfolio
---

<style>
  /* Container styling for uniform, professional spacing */
  .project {
    max-width: 900px;
    margin: auto;
    line-height: 1.45;
    font-size: 17px;
    padding: 8px 12px;
    color: #111;
    font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }

  .project img {
    display: block;
    margin: 14px auto;
    max-width: 75%;
    border-radius: 8px;
  }

  .project h2 {
    color: #5dade2;
    margin: 20px 0 6px 0; /* top breathing room, small gap before content */
    font-size: 20px;
    line-height: 1.15;
  }

  .project h3 {
    margin: 14px 0 6px 0;
    font-size: 17px;
    line-height: 1.15;
  }

  .project p {
    margin: 0 0 10px 0; /* compact paragraphs with consistent bottom gap */
  }

  .project ul {
    margin: 6px 0 12px 22px; /* clean list spacing */
  }

  .project li {
    margin-bottom: 6px;
  }

  .project hr {
    margin: 16px 0;
    border: none;
    border-top: 1px solid #e0e0e0;
  }

  /* slightly smaller sub-headings if needed */
  .project h3.small { font-size: 15.5px; }
</style>

<div class="project">

<!-- Image -->
<div style="text-align:center; margin:15px 0;">
  <img src="/images/image.png" alt="Bimanual Teleoperation">
</div>

<!-- Project Overview -->
<h2>Project Overview</h2>

<p><strong>Phantom_to_Interbotix_teleop</strong> is a ROS 2-based teleoperation
framework enabling <strong>real-time, intuitive control</strong> of an
<strong>Interbotix RX200 robotic arm</strong> using a
<strong>Geomagic Touch haptic device</strong>.</p>

<p>The project maps human hand motions to precise robot movements for natural
end-effector control.</p>

<p>Useful in robotics research and human-in-the-loop applications.</p>

<hr>

<!-- Motivation -->
<h2>Motivation and Objectives</h2>

<p>Robotic manipulation requires intuitive control beyond keyboards or joysticks.</p>

<ul>
  <li>Natural teleoperation interface</li>
  <li>Haptic + ROS 2 integration</li>
  <li>Real-time end-effector & gripper control</li>
  <li>Foundation for teleoperation research</li>
</ul>

<hr>

<!-- Architecture -->
<h2>System Architecture</h2>

<p>ROS 2 publisher-subscriber framework:</p>

<ul>
  <li>Geomagic Touch → pose & buttons</li>
  <li>Teleop node → input mapping</li>
  <li>Interbotix RX200 → execution</li>
</ul>

<p>Loop rate: <strong>~50 Hz</strong>.</p>

<hr>

<!-- Features -->
<h2>Key Features</h2>

<h3>Real-Time Teleoperation</h3>
<ul>
  <li>Continuous stylus mapping</li>
  <li>Low-latency response</li>
</ul>

<h3>Multi-Mode Control</h3>
<ul>
  <li>Cartesian control</li>
  <li>Joint-level wrist rotation</li>
  <li>Button switching</li>
</ul>

<h3>Gripper Control</h3>
<ul>
  <li>Toggle open/close</li>
  <li>Interbotix API integration</li>
</ul>

<h2 style="margin-top:18px;">Workflow</h2>
<div style="text-align:center; margin:15px 0;">
  <img src="/images/flow.png" alt="Bimanual Teleoperation">
</div>

<h2>Geomagic Touch</h2>
<p>To use <strong>Geomagic Touch</strong>, <strong>Openhaptics</strong> and <strong>device Drivers</strong> are needed. These
drivers are available at <strong>3D Systems website</strong>. After successful installation of <strong>Haptic drivers</strong> the
Geomagic touch publish data in <strong>5 Topics</strong>. They are</p>

<ul>
<li><strong>/phantom/button:</strong> It publishes the state of the buttons on the <strong>Geomagic touch stylus pen</strong>.</li>

<li><strong>/phantom/force_feedback:</strong> The topic /phantom/force publishes the <strong>force vector measured or rendered at the end-effector (stylus tip)</strong> of the Geomagic Touch / SensAble Phantom haptic device.</li>

<li><strong>/phantom/joint_states:</strong> This topic publishes the <strong>joint positions</strong> of the Geomagic touch. It has <strong>6 joints — Waist, Shoulder, Elbow, Yaw, Pitch and Roll</strong>.</li>

<li><strong>/phantom/pose:</strong> This topic publishes the <strong>X, Y, Z coordinates</strong> of the stylus pointer and <strong>Quaternion orientation</strong> which gives pitch, yaw and roll after conversion.</li>

<li><strong>/phantom/state:</strong> This topic publishes the <strong>complete state of the Geomagic Touch</strong>, providing a <strong>high-level snapshot</strong> of the device.</li>
</ul>

<h2>Data Processing</h2>
<p>The data from the <strong>Geomagic touch must be processed</strong> before feeding it to the robot.
This is required because the <strong>origin of the stylus pointer is not (0,0,0)</strong> but at <strong>(0.00, 0.08, 0.06)</strong>.
So, a <strong>homogeneous transformation matrix</strong> converts Geomagic coordinates into <strong>World coordinates</strong>.
After conversion, values are fed to the <strong>IK Solver</strong>.</p>

<p>The Geomagic touch is <strong>6 DoF</strong> and the RX200 is <strong>5 DoF</strong>, meaning <strong>yaw must be neglected</strong>.
However, pitch/yaw/roll are provided as a <strong>quaternion</strong>. Converting quaternion gives pitch, yaw and roll,
but forcing yaw to zero causes inaccuracy because <strong>pitch and roll are relative to yaw</strong>.
To solve this, I used <strong>/phantom/joint_states</strong> to get <strong>actual pitch and roll joint values</strong>.
This helped me obtain <strong>accurate orientation</strong>.

So in processing:
<strong>XYZ → /phantom/pose</strong><br>
<strong>Button state → /phantom/button</strong><br>
<strong>Orientation (pitch, roll) → /phantom/joint_states</strong></p>

<h2>IK Solver</h2>
<p>The XYZ coordinates from the input device are passed to the robot’s <strong>Inverse Kinematics (IK) solver</strong>
using <strong>set_ee_pose_components()</strong>.
This function takes desired <strong>end-effector position (X, Y, Z)</strong> and optional <strong>roll, pitch, yaw</strong>.</p>

<p>The IK solver computes the required <strong>joint angles</strong>.
The robot's <strong>internal motion controller</strong> then executes the movement so the arm reaches the target position.</p>

<h2>Gripper Control</h2>
<p>I implemented gripper control using <strong>/phantom/button</strong>.
The <strong>grey button</strong> controls the gripper:
<strong>True → grasp</strong>, <strong>False → release</strong>.
Holding the grey button holds the object.
This uses <strong>gripper.grasp</strong> and <strong>gripper.release</strong> from the Interbotix package.</p>

<h2>Button Configuration</h2>
<p>The <strong>White button controls orientation</strong>.
When pressed, <strong>pitch and roll can be adjusted</strong>.
When no button is pressed, only <strong>XYZ motion</strong> is allowed while orientation remains fixed.
Press white button → set orientation.
Release white + hold grey → grasp object.
Releasing grey → <strong>gripper releases and wrist resets to zero</strong>, returning to <strong>XYZ mode</strong>.</p>

<h2>Workspace Expansion</h2>
<p>The Geomagic workspace is <strong>very small</strong>, limiting robot reach.
Objects reachable by RX200 but outside Geomagic workspace become unreachable.
To solve this, I <strong>scaled coordinates by 2×</strong>,
effectively <strong>doubling the workspace</strong>.</p>
